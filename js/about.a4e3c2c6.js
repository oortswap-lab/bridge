"use strict";(self["webpackChunkOORTSwap"]=self["webpackChunkOORTSwap"]||[]).push([[443],{7621:function(e,a,o){o.r(a),o.d(a,{default:function(){return L}});var n=o(3396),t=o(7139),l=o.p+"img/arrow-down-grey.0bc64643.svg";const s=e=>((0,n.dD)("data-v-5ac021f6"),e=e(),(0,n.Cn)(),e),r={class:"bridge_box"},c={class:"exchange_box"},i=s((()=>(0,n._)("div",{class:"exchange_top"},[(0,n._)("p",null,"Bridge")],-1))),d={class:"exchange_bottom"},m={class:"exchange_item_box"},h={class:"exchange_item_top flex_row_space_between"},u={class:"flex_row",style:{cursor:"pointer"}},f=["src"],w=s((()=>(0,n._)("svg",{width:"12",height:"7",viewBox:"0 0 12 7",fill:"none",class:"sc-dyGzUR fjZPDO"},[(0,n._)("path",{d:"M0.97168 1L6.20532 6L11.439 1",stroke:"#000000"})],-1))),_={class:"flex_row"},p=["src"],g={style:{"font-size":"14px",color:"rgb(0, 0, 0)","padding-left":"5px"}},k=s((()=>(0,n._)("img",{style:{},src:l,alt:""},null,-1))),T={class:"exchange_item_box"},b={class:"exchange_item_top flex_row_space_between"},x={class:"flex_row",style:{cursor:"pointer"}},v=["src"],y=s((()=>(0,n._)("svg",{width:"12",height:"7",viewBox:"0 0 12 7",fill:"none",class:"sc-dyGzUR fjZPDO"},[(0,n._)("path",{d:"M0.97168 1L6.20532 6L11.439 1",stroke:"#000000"})],-1))),C={class:"flex_row"},B=["src"],D={style:{"font-size":"14px",color:"rgb(0, 0, 0)","padding-left":"5px"}},I={class:"exchange_item_box"},U=s((()=>(0,n._)("div",{class:"exchange_item_top flex_row_space_between"},[(0,n._)("h5",null,[(0,n._)("span",null,"Receive")])],-1)));function W(e,a,o,l,s,W){const z=(0,n.up)("a-button"),Z=(0,n.up)("a-menu-item"),V=(0,n.up)("a-menu"),A=(0,n.up)("a-dropdown"),O=(0,n.up)("a-input"),S=(0,n.up)("a-col"),N=(0,n.up)("a-row");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",c,[i,(0,n._)("div",d,[(0,n.Wm)(N,{align:"middle",justify:"center",gutter:[0,12]},{default:(0,n.w5)((()=>[(0,n.Wm)(S,{span:24,order:e.fromAndTo?3:1},{default:(0,n.w5)((()=>[(0,n._)("div",m,[(0,n._)("div",h,[(0,n._)("h5",null,[(0,n.Uk)("From"),(0,n._)("span",null,(0,t.zw)(e.fromToken.chainName),1)]),(0,n._)("p",null,(0,t.zw)("Balance: "+e.fromToken.balance),1)]),(0,n.Wm)(O,{class:"exchange_item_input",size:"large",value:e.fromValue,"onUpdate:value":a[0]||(a[0]=a=>e.fromValue=a),placeholder:"0.0",bordered:!1,"max-length":50,onkeyup:e.fromValue=e.fromValue.match(/\d+(\.\d{0,8})?/)?e.fromValue.match(/\d+(\.\d{0,8})?/)[0]:"",onChange:e.onChange},{suffix:(0,n.w5)((()=>[(0,n.Wm)(z,{type:"text",onClick:e.onFromMax},{default:(0,n.w5)((()=>[(0,n.Uk)("Max")])),_:1},8,["onClick"]),(0,n.Wm)(A,{trigger:["click"]},{overlay:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.fromData,(a=>((0,n.wg)(),(0,n.j4)(Z,{onClick:o=>e.onFromCheck(a)},{default:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n._)("img",{style:{width:"20px",height:"20px","border-radius":"50%"},src:a.icon,alt:""},null,8,p),(0,n._)("h4",g,(0,t.zw)(a.name)+"("+(0,t.zw)(a.chainName)+")",1)])])),_:2},1032,["onClick"])))),256))])),_:1})])),default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n._)("img",{src:e.fromToken.icon,alt:""},null,8,f),(0,n._)("h4",null,(0,t.zw)(e.fromToken.name),1),w])])),_:1})])),_:1},8,["value","onkeyup","onChange"])])])),_:1},8,["order"]),(0,n.Wm)(S,{span:24,order:2,class:"flex_column"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{type:"text",shape:"circle",onClick:e.onSwitch},{default:(0,n.w5)((()=>[k])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(S,{span:24,order:e.fromAndTo?1:3},{default:(0,n.w5)((()=>[(0,n._)("div",T,[(0,n._)("div",b,[(0,n._)("h5",null,[(0,n.Uk)("To"),(0,n._)("span",null,(0,t.zw)(e.toToken.chainName),1)]),(0,n._)("p",null,(0,t.zw)("Balance: "+e.toToken.balance),1)]),(0,n.Wm)(O,{class:"exchange_item_input",size:"large",value:e.toValue,"onUpdate:value":a[1]||(a[1]=a=>e.toValue=a),placeholder:"0.0",bordered:!1,disabled:""},{suffix:(0,n.w5)((()=>[(0,n.Wm)(A,{trigger:["click"]},{overlay:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.toData,(a=>((0,n.wg)(),(0,n.j4)(Z,{onClick:o=>e.onToCheck(a)},{default:(0,n.w5)((()=>[(0,n._)("div",C,[(0,n._)("img",{style:{width:"20px",height:"20px","border-radius":"50%"},src:a.icon,alt:""},null,8,B),(0,n._)("h4",D,(0,t.zw)(a.name)+"("+(0,t.zw)(a.chainName)+")",1)])])),_:2},1032,["onClick"])))),256))])),_:1})])),default:(0,n.w5)((()=>[(0,n._)("div",x,[(0,n._)("img",{src:e.toToken.icon,alt:""},null,8,v),(0,n._)("h4",null,(0,t.zw)(e.toToken.name),1),y])])),_:1})])),_:1},8,["value"])])])),_:1},8,["order"]),(0,n.Wm)(S,{span:24,order:e.fromAndTo?1:3},{default:(0,n.w5)((()=>[(0,n._)("div",I,[U,(0,n.Wm)(O,{class:"exchange_item_input",size:"large",value:e.toAddress,"onUpdate:value":a[2]||(a[2]=a=>e.toAddress=a),placeholder:"0x",bordered:!1,disabled:e.toAddressDisable,style:{"font-size":"14px !important"}},null,8,["value","disabled"])])])),_:1},8,["order"])])),_:1}),e.address&&e.address.length>0?((0,n.wg)(),(0,n.j4)(z,{key:0,block:"",class:"exchange_btn",onClick:e.onSwap,loading:e.swapLoad,disabled:""==e.fromValue||""==e.toValue,type:"primary"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,t.zw)(""!=e.fromValue&&""!=e.toValue?e.btnTitle:"Enter an amount"),1)])),_:1},8,["onClick","loading","disabled"])):((0,n.wg)(),(0,n.j4)(z,{key:1,block:"",class:"exchange_btn",onClick:e.login,type:"default"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,t.zw)("Connect Wallet"))])),_:1},8,["onClick"]))])])])}o(560);var z=o(2693),Z=o(4870),V=o(65),A=o(2201),O=(0,n.aZ)({name:"Bridge",setup(){const e=(0,V.oR)(),a=(0,Z.qj)({address:(0,n.Fl)((()=>e.state.wallet_address)),swapLoad:!1,fromValue:"",toValue:"",btnTitle:"Swap",toAddress:"",toAddressDisable:!0,fromToken:{icon:o(782),name:"USDT",chainId:"56",chainName:"BNB",balance:"~"},toToken:{icon:o(6911),name:"USDT",chainId:"970",chainName:"OORT",balance:"~"},fromData:[{icon:o(782),name:"USDT",chainId:"56",chainName:"BNB",balance:"~"},{icon:o(6911),name:"USDT",chainId:"970",chainName:"OORT",balance:"~"}],toData:[{icon:o(6911),name:"USDT",chainId:"970",chainName:"OORT",balance:"~"}]});(0,n.YP)((()=>[e.state.wallet_address]),(()=>{a.toAddress=e.state.wallet_address,t.refresh()})),(0,n.bv)((()=>{t.refresh()}));const t={async refreshFromBalance(){if(a.fromToken&&e.state.wallet_address){const o=a.fromToken.chainId,n=A.Z.getUsdtContract(o);let t=await n.methods.balanceOf(e.state.wallet_address).call();a.fromToken.balance=A.Z.getUsdtBalance(o,t)}},async refreshToBalance(){if(a.toToken&&e.state.wallet_address){const o=a.toToken.chainId,n=A.Z.getUsdtContract(a.toToken.chainId);let t=await n.methods.balanceOf(e.state.wallet_address).call();a.toToken.balance=A.Z.getUsdtBalance(o,t)}},async refresh(){e.state.wallet_address&&(t.refreshFromBalance(),t.refreshToBalance())},async onFromMax(){a.fromValue=a.fromToken.balance,t.onChange()},async onFromCheck(o){a.fromToken=o,e.dispatch("switchChainid",a.fromToken.chainId);const n=a.fromData,l=Array();if("56"==a.fromToken.chainId)for(var s=0;s<n.length;s++){let e=n[s];e.chainId!=a.fromToken.chainId&&l.push({...e})}else l.push({...a.fromData[0]});a.toData=l,a.fromToken.chainId==a.toToken.chainId&&(a.toToken=a.toData[0]),"828"==a.fromToken.chainId?a.toAddressDisable=!1:(a.toAddressDisable=!0,a.toAddress=e.state.wallet_address),t.refreshFromBalance(),t.refreshToBalance(),e.state.chainId==a.fromToken.chainId||e.dispatch("showWalletModal",!0)},async onToCheck(e){a.toToken=e,t.refreshToBalance()},async login(){e.dispatch("showWalletModal",!0)},async onChange(){a.toValue=z.Z.times(a.fromValue,"0.99",4)},async onSwap(){try{if(e.state.chainId!=a.fromToken.chainId)return void e.dispatch("showWalletModal",!0);a.swapLoad=!0;const o=a.fromToken.chainId,n=e.state.wallet_address,l=A.Z.getBridgeContractAddress(o),s=A.Z.getUsdtContract(o),r=A.Z.getGass(o),c=await s.methods.balanceOf(n).call(),i=z.Z.timesPow(a.fromValue,18,0),d=await A.Z.getBridgeContractW(o).methods.minAmount().call();if(!z.Z.gte(i,d))return a.swapLoad=!1,void window.notification["error"]({message:"Error",description:"Minimum amount "+z.Z.divPow(d,18,4)});if(z.Z.gt(i,c))return a.swapLoad=!1,void window.notification["error"]({message:"Error",description:"Insufficient balance"});const m=await s.methods.allowance(n,l).call();z.Z.gt(i,m)&&(a.btnTitle="Approve",await A.Z.getUsdtContractW(o).methods.approve(l,i).send({from:n,gasPrice:r})),a.btnTitle="Swap",await A.Z.getBridgeContractW(o).methods.callBridge(a.toToken.chainId,i).send({from:n,gasPrice:r}),a.swapLoad=!1,window.notification["success"]({message:"Success",description:""}),t.refreshFromBalance(),t.refreshToBalance()}catch(o){a.btnTitle="Swap",a.swapLoad=!1,window.notification["error"]({message:"Error",description:JSON.stringify(o)})}}};return{...(0,Z.BK)(a),...t}}}),S=o(89);const N=(0,S.Z)(O,[["render",W],["__scopeId","data-v-5ac021f6"]]);var L=N},782:function(e,a,o){e.exports=o.p+"img/bnb-usdt.10ea85dc.png"},6911:function(e,a,o){e.exports=o.p+"img/oort-usdt.11783e26.png"}}]);
//# sourceMappingURL=about.a4e3c2c6.js.map